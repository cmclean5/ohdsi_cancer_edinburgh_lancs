# ============================================================================ #
#              CODE TO ADD COVARIATES TO STUDY COHORT                          #
#                                                                              #
#                                Colin Mclean                                  #
#                            Colin.D.Mclean@ed.ac.uk                           #
#                                 08-09-2024                                   #
#                                                                              #
#                                                                              #
# ============================================================================ #


## -------------------------------------------------------------------------- ##
## define age group for our study
## -------------------------------------------------------------------------- ##
age_group = list(
  "age_group" = 
    list(
      "< 40"     = c(0,39),
      "40 to 44" = c(40,44),
      "45 to 49" = c(45,49),
      "50 to 54" = c(50,54),
      "55 to 59" = c(55,59),
      "60 to 64" = c(60,64),
      "65 to 69" = c(65,69),
      "70 to 74" = c(70,74),
      "75 +"     = c(75,180),
      "9"        = NA
    )
)


## -------------------------------------------------------------------------- ##
## add age & age group to study cohort
## -------------------------------------------------------------------------- ##
cdm$outcome <- cdm$outcome %>%
  PatientProfiles::addDemographics(
    age      = TRUE,
    ageGroup = age_group)
